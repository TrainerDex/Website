{% extends "socialaccount/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Account Connections" %}{% endblock %}
{% block section_title %}{% trans "Account Connections" %}{% endblock %}

{% block content %}
<div class="trainerdex-cards mdl-grid">
  <div class="trainerdex-card-wide mdl-card mdl-shadow--2dp mdl-cell mdl-cell--8-col-tablet mdl-cell--8-col-desktop trainerdex-card-center" id="addconn">
    <div class="mdl-card__title mdl-card--expand mdl-color--teal-300">
      <h2 class="mdl-card__title-text">{% trans 'Log in via Social Media' %}</h2>
     </div>
    <div class="mdl-card__supporting-text mdl-color-text--grey-600">
      {% trans 'You can sign in to your account using any of the following third party accounts' %}
    </div>
    <div class="mdl-card__actions mdl-card--border socialaccount_providers">
      {% include "socialaccount/snippets/provider_list.html" with process="connect" %}
    </div>
  </div>
</div>

{% if form.accounts %}
<div class="trainerdex-cards mdl-grid">
  <div class="trainerdex-options trainerdex-card-wide mdl-card mdl-shadow--2dp mdl-cell mdl-cell--8-col-tablet mdl-cell--4-col-desktop trainerdex-card-center" id="delconn">
  <form method="post" action="{% url 'socialaccount_connections' %}">
  {% csrf_token %}
  <fieldset>
    <div class="mdl-card__title mdl-color--teal-300">
      <h2 class="mdl-card__title-text">{% trans "Account Connections" %}</h2>
    </div>
    <div class="mdl-card__supporting-text">
      {%blocktrans %}You can sign in to your account using any of the following third party accounts:{% endblocktrans %}
  {% if form.non_field_errors %}
  {{ form.non_field_errors }}
  {% endif %}
      <ul>
  {% for base_account in form.accounts %}
  {% with base_account.get_provider_account as account %}
        <li>
          <label for="id_account_{{ base_account.id }}" class="mdl-radio mdl-js-radio mdl-js-ripple-effect">
            <input type="radio" id="id_account_{{ base_account.id }}" class="mdl-radio__button" name="account" value="{{ base_account.id }}"/>
            <span class="mdl-radio__label socialaccount_provider {{ base_account.provider }} {{ account.get_brand.id }}">{{account.get_brand.name}} {{ account }}</span>
          </label>
        </li>
  {% endwith %}
  {% endfor %}
      </ul>
    </div>
    <div class="mdl-card__actions mdl-card--border">
      <button type="submit" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"><i class="material-icons">remove_circle</i> {% trans 'Remove' %}</button>
    </div>
  </fieldset>
  </form>
  </div>
</div>
{% endif %}

{% include "socialaccount/snippets/login_extra.html" %}

{% endblock %}
