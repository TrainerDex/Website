{% extends "account/base.html" %}

{% load static %}
{% load i18n %}
{% load widget_tweaks %}

{% block head_title %}{% trans "Signup" %}{% endblock %}
{% block section_title %}{% trans "Signup" %}{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'node_modules/mdl-date-textfield/dist/mdl-date-textfield.min.css' %}">
{% endblock %}
{% block extra_body %}
<script src="{% static 'node_modules/mdl-date-textfield/dist/mdl-date-textfield.min.js' %}"></script>
{% endblock %}


{% block content %}
<div class="mdl-grid">
  <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--5-col mdl-cell--4-col-phone trainerdex-card__alert">
    <div class="mdl-card__title">
      <h2 class="mdl-card__title-text">{% trans "Register" %} - {% trans "Step 1" %}</h2>
    </div>
    <form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
      <div class="mdl-card__supporting-text" style="text-align: center;">
        <p>{% blocktrans trimmed with '<a href="'|add:login_url|add:'">'|safe as login_link_start and '</a>' as login_link_end %}
        If you are in a Discord Guild Leaderboard or have been contacted by us via Twitter, you would already have an account. Please {{ login_link_start }}sign in{{ login_link_end }} instead.
        {% endblocktrans %}</p>
        <p>{% trans "Please use your in-game name now, as it will be used later for verification." %}</p>
        <div id="signup_form" class="mdl-textfield mdl-js-textfield">
          {% csrf_token %}
          <span>{{ form.non_field_errors }}</span>
          {# Include the hidden fields #}
          {% for hidden in form.hidden_fields %}
           {{ hidden }}
          {% endfor %}
          {# Include the visible fields #}
          {% for field in form.visible_fields %}
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label{% if field.errors %} is-invalid{% endif %}">
            {{ field|add_class:"mdl-textfield__input"}}
            <label class="mdl-textfield__label" for="{{field.id_for_label}}">{{field.label}}</label>
            {% for error in field.errors %}
              <span class="mdl-textfield__error">{{error}}</span>
            {% endfor %}
          </div><br>
          {% endfor %}
          {% if redirect_field_value %}
          <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
          {% endif %}
        </div>
      </div>
      <div class="mdl-card__actions mdl-card--border">
        <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" type="submit" name="action">{% trans "Register" %} &raquo;</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
